import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as i}from"./iframe-Bxccsplp.js";import{L as j}from"./list-CD2JO__8.js";import{B as k}from"./button-Dn1ODst6.js";import{L as N}from"./input-BZ3Aepug.js";import{H as T}from"./helper-text-BJVs1rhY.js";const b={"rst-field-select-wrapper":"_rst-field-select-wrapper_ckg76_1","rst-select-wrapper":"_rst-select-wrapper_ckg76_11"},_=({value:t,onChange:u,options:s,multiActiveIndex:V,label:c,helperText:p,disabled:r,multiple:d=!1})=>{const[f,o]=i.useState(!1),[q,m]=i.useState(-1),[I,y]=i.useState(Array.isArray(t)?t:[t]),a=i.useId(),A=`${a}-helper`,x=`--anchor-${a.replace(/[^a-zA-Z0-9-_]/g,"")}`,w=e=>{if(d){const l=Array.isArray(t)?[...t]:[],h=l.includes(e.value)?l.filter(C=>C!==e.value):[...l,e.value];u?.(h),y(h)}else{u?.(e.value);const l=s.findIndex(v=>v.value===e.value);m(l),y([e.value]),o(!1)}},L=e=>{e.key==="Escape"&&(o(!1),m(-1))},g={fieldWrapper:b["rst-field-select-wrapper"],selectWrapper:b["rst-select-wrapper"]},S=()=>{if(d&&Array.isArray(t)){const e=s.filter(l=>t.includes(l.value)).map(l=>l.value);return e.length>0?e.join(", "):"Select options"}else return s.find(l=>l.value===t)?.value||"Select an option"};return n.jsxs("div",{role:"combobox","aria-expanded":f,"aria-controls":a,"aria-owns":a,"aria-disabled":r,"data-component":"combobox",className:g.fieldWrapper,children:[c&&n.jsx(N,{label:c,id:a,disabled:r}),n.jsxs("span",{className:g.selectWrapper,children:[n.jsx(k,{value:S(),anchorName:x,onClick:()=>o(e=>!e),"aria-label":"Toggle Select",trailingVisual:"expand",disabled:r}),f&&n.jsx(j,{id:a,options:s,activeIndex:V||I,onClick:w,onKeyDown:L,anchorName:x,selectedIndex:q,multiple:d})]}),p&&n.jsx(T,{helperText:p,id:A,disabled:r})]})};try{_.displayName="Select",_.__docgenInfo={description:"",displayName:"Select",props:{value:{defaultValue:null,description:"Active value of the select",name:"value",required:!0,type:{name:"string | string[]"}},options:{defaultValue:null,description:"List of possible options",name:"options",required:!0,type:{name:"Option[]"}},multiActiveIndex:{defaultValue:null,description:"List of selected index",name:"multiActiveIndex",required:!1,type:{name:"string[]"}},label:{defaultValue:null,description:"Label of the field",name:"label",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"HelperText under the field",name:"helperText",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Manage disabled state",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"When true, it will enable the multiselection",name:"multiple",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((value: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string | string[]) => void)"}}}}}catch{}try{select.displayName="select",select.__docgenInfo={description:"",displayName:"select",props:{value:{defaultValue:null,description:"Active value of the select",name:"value",required:!0,type:{name:"string | string[]"}},options:{defaultValue:null,description:"List of possible options",name:"options",required:!0,type:{name:"Option[]"}},multiActiveIndex:{defaultValue:null,description:"List of selected index",name:"multiActiveIndex",required:!1,type:{name:"string[]"}},label:{defaultValue:null,description:"Label of the field",name:"label",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"HelperText under the field",name:"helperText",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Manage disabled state",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"When true, it will enable the multiselection",name:"multiple",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((value: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string | string[]) => void)"}}}}}catch{}export{_ as S};
