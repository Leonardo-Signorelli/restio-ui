import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{e as y,r as i}from"./iframe-Bxccsplp.js";const m={"rst-icon":"_rst-icon_1ngxh_1","rst-icon-state-success":"_rst-icon-state-success_1ngxh_4","rst-icon-state-danger":"_rst-icon-state-danger_1ngxh_8","rst-icon-state-warning":"_rst-icon-state-warning_1ngxh_12"},c=y.memo(({icon:r,disabled:n,state:l})=>{const[p,f]=i.useState(""),[_,d]=i.useState(!0),[v,h]=i.useState(!1),g=`assets/svg/${r}.svg`,t={icon:`${l?m[`rst-icon-state-${l}`]:""} ${m["rst-icon"]}`};return i.useEffect(()=>{r&&(async()=>{try{d(!0),h(!1);const a=await fetch(g);if(!a.ok)throw new Error(`Failed to fetch SVG: ${a.status}`);const u=await a.text();if(!u.trim().startsWith("<svg"))throw new Error("Invalid SVG content");let o=u;o=o.replace(/<svg([^>]*)>/,(S,x)=>{let e=x;return e=e.replace(/width="[^"]*"/g,""),e=e.replace(/height="[^"]*"/g,""),e+=' width="1rem" height="1rem"',e+=' role="application"',n&&(e+=' aria-disabled="true"'),t.icon&&(e.includes("class=")?e=e.replace(/class="([^"]*)"/,`class="$1 ${t.icon}"`):e+=` class="${t.icon}"`),`<svg${e}>`}),f(o)}catch(a){h(!0),console.error("Failed to load SVG:",a)}finally{d(!1)}})()},[r,n,t.icon,g]),_?s.jsx("svg",{width:"1rem",height:"1rem",role:"application","aria-disabled":n,className:t.icon,children:s.jsx("rect",{width:"100%",height:"100%",fill:"currentColor",opacity:"0.3"})}):v?s.jsxs("svg",{width:"1rem",height:"1rem",role:"application","aria-disabled":n,className:t.icon,children:[s.jsx("rect",{width:"100%",height:"100%",fill:"none",stroke:"currentColor",strokeWidth:"1"}),s.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"0.5rem",children:"X!X"})]}):s.jsx("div",{dangerouslySetInnerHTML:{__html:p},style:{display:"inline-block",lineHeight:0}})});c.displayName="Icon";try{c.displayName="Icon",c.__docgenInfo={description:"",displayName:"Icon",props:{icon:{defaultValue:null,description:"Path to the SVG icon file",name:"icon",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"Manage disabled state",name:"disabled",required:!1,type:{name:"boolean"}},state:{defaultValue:null,description:"Manage disabled state",name:"state",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"warning"'},{value:'"danger"'}]}}}}}catch{}export{c as I};
